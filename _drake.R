source(here::here("packages.R"))

dateRange <- tibble(Date=seq(as.Date("2020-02-28"), as.Date("2020-12-18"), "days"))
probableDates <- tribble(
  ~Date, ~Probable,
  "2020-03-24", 13.0, # https://www.health.govt.nz/news-media/media-releases/40-new-confirmed-cases-covid-19-new-zealand
  "2020-03-25", 3, # https://www.health.govt.nz/our-work/diseases-and-conditions/covid-19-novel-coronavirus/covid-19-novel-coronavirus-news-and-media-updates
  "2020-03-26", 5, # https://www.health.govt.nz/news-media/news-items/covid-19-media-update-26-march
  "2020-03-27", 9,
  "2020-03-28", 5,
  "2020-03-29", 3,
  "2020-03-30", -1,
  "2020-03-31", 10,
  "2020-04-01", 14,
  "2020-04-02", 13,
  "2020-04-03", 22,
  "2020-04-04", 30,
  "2020-04-05", 41,
  "2020-04-06", 28,
  "2020-04-07", 22,
  "2020-04-08", 24,
  "2020-04-09", 6,
  "2020-04-10", 21,
  "2020-04-11", 9,
  "2020-04-12", 4,
  "2020-04-13", 4,
  "2020-04-14", 9,
  "2020-04-15", 14,
  "2020-04-16", 9,
  "2020-04-17", 6,
  "2020-04-18", 5,
  "2020-04-19", 5,
  "2020-04-20", 2,
  "2020-04-21", 3,
  "2020-04-22", 0,
  "2020-04-23", 2,
  "2020-04-24", 3,
  "2020-04-25", 2,
  "2020-04-26", 5,
  "2020-04-27", -2,
  "2020-04-28", 1,
  "2020-04-29", 0,
  "2020-04-30", -1,
  "2020-05-01", 0,
  "2020-05-02", 4,
  "2020-05-03", 0,
  "2020-05-04", -1,
  "2020-05-05", -1,
  "2020-05-06", 1,
  "2020-05-07", 0,
  "2020-05-08", -1,
  "2020-05-09", 1,
  "2020-05-10", -1,
  "2020-05-11", 0,
  "2020-05-12", 0,
  "2020-05-13", 0,
  "2020-05-14", 0,
  "2020-05-15", 0,
  "2020-05-16", 0,
  "2020-05-17", 0,
  "2020-05-18", 0,
  "2020-05-19", 0,
  "2020-05-20", 0,
  "2020-05-21", 0,
  "2020-05-22", 0,
  "2020-05-23", 0,
  "2020-05-24", 0,
  "2020-05-25", 0,
  "2020-05-26", 0,
  "2020-05-27", 0,
  "2020-05-28", 0,
  "2020-05-29", 0,
  "2020-05-30", 0,
  "2020-05-31", 0,
  "2020-06-01", 0,
  "2020-06-02", 0,
  "2020-06-03", 0,
  "2020-06-04", 0,
  "2020-06-05", 0,
  "2020-06-06", 0,
  "2020-06-07", 0,
  "2020-06-08", 0,
  "2020-06-09", 0,
  "2020-06-10", 0,
  "2020-06-11", 0,
  "2020-06-12", 0,
  "2020-06-13", 0,
  "2020-06-14", 0,
  "2020-06-15", 0,
  "2020-06-16", 0,
  "2020-06-17", 0,
  "2020-06-18", 0,
  "2020-06-19", 0,
  "2020-06-20", 0,
  "2020-06-21", 0,
  "2020-06-22", 0,
  "2020-06-23", 0,
  "2020-06-24", 0,
  "2020-06-25", 0,
  "2020-06-26", 0,
  "2020-06-27", 0,
  "2020-06-28", 0,
  "2020-06-29", 0,
  "2020-06-30", 0,
  "2020-07-01", 0,
  "2020-07-02", 0,
  "2020-07-03", 0,
  "2020-07-04", 0,
  "2020-07-05", 0,
  "2020-07-06", 0,
  "2020-07-07", 0,
  "2020-07-08", 0,
  "2020-07-09", 0,
  "2020-07-10", 0,
  "2020-07-11", 0,
  "2020-07-12", 0,
  "2020-07-13", 0,
  "2020-07-14", 0,
  "2020-07-15", 0,
  "2020-07-16", 0,
  "2020-07-17", 0,
  "2020-07-18", 0,
  "2020-07-19", 0,
  "2020-07-20", 0,
  "2020-07-21", 0,
  "2020-07-22", 0,
  "2020-07-23", 0,
  "2020-07-24", 0,
  "2020-07-25", 0,
  "2020-07-26", 0,
  "2020-07-27", 0,
  "2020-07-28", 0,
  "2020-07-29", 0,
  "2020-07-30", 0,
  "2020-07-31", 0,
  "2020-08-01", 0,
  "2020-08-02", 0,
  "2020-08-03", 0,
  "2020-08-04", 0,
  "2020-08-05", 0,
  "2020-08-06", 0,
  "2020-08-07", 0,
  "2020-08-08", 0,
  "2020-08-09", 0,
  "2020-08-10", 0,
  "2020-08-11", 0,
  "2020-08-12", 0,
  "2020-08-13", 0,
  "2020-08-14", 1,
  "2020-08-15", 0,
  "2020-08-16", 0,
  "2020-08-17", 0,
  "2020-08-18", -1,
  "2020-08-19", 0,
  "2020-08-20", 0,
  "2020-08-21", 0,
  "2020-08-22", 0,
  "2020-08-23", 0,
  "2020-08-24", 1,
  "2020-08-25", 0,
  "2020-08-26", 0,
  "2020-08-27", 0,
  "2020-08-28", 0,
  "2020-08-29", 0,
  "2020-08-30", 0,
  "2020-08-31", 0,
  "2020-09-01", 0,
  "2020-09-02", 0,
  "2020-09-03", 0,
  "2020-09-04", 0,
  "2020-09-05", 0,
  "2020-09-06", 0,
  "2020-09-07", 0,
  "2020-09-08", 0,
  "2020-09-09", 0,
  "2020-09-10", 0,
  "2020-09-11", 0,
  "2020-09-12", 0,
  "2020-09-13", 0,
  "2020-09-14", 0,
  "2020-09-15", 0,
  "2020-09-16", 0,
  "2020-09-17", 0,
  "2020-09-18", 0,
  "2020-09-19", 0,
  "2020-09-20", 0,
  "2020-09-21", 0,
  "2020-09-22", 0,
  "2020-09-23", 5,
  "2020-09-24", 0,
  "2020-09-25", 0,
  "2020-09-26", 0,
  "2020-09-27", 0,
  "2020-09-28", 0,
  "2020-09-29", 0,
  "2020-09-30", 0,
  "2020-10-01", 0,
  "2020-10-02", 0,
  "2020-10-03", 0,
  "2020-10-04", 0,
  "2020-10-05", 0,
  "2020-10-06", 0,
  "2020-10-07", 0,
  "2020-10-08", 0,
  "2020-10-09", 0,
  "2020-10-10", 0,
  "2020-10-11", 0,
  "2020-10-12", 0,
  "2020-10-13", 0,
  "2020-10-14", 0,
  "2020-10-15", 0,
  "2020-10-16", 0,
  "2020-10-17", 0,
  "2020-10-18", 0,
  "2020-10-19", 0,
  "2020-10-20", 0,
  "2020-10-21", 0,
  "2020-10-22", 0,
  "2020-10-23", 0,
  "2020-10-24", 0,
  "2020-10-25", 0,
  "2020-10-26", 0,
  "2020-10-27", 0,
  "2020-10-28", 0,
  "2020-10-29", 0,
  "2020-10-30", 0,
  "2020-10-31", 0,
  "2020-11-01", 0,
  "2020-11-02", 0,
  "2020-11-03", 0,
  "2020-11-04", 0,
  "2020-11-05", 0,
  "2020-11-06", 0,
  "2020-11-07", 0,
  "2020-11-08", 0,
  "2020-11-09", 0,
  "2020-11-10", 0,
  "2020-11-11", 0,
  "2020-11-12", 0,
  "2020-11-13", 0,
  "2020-11-14", 0,
  "2020-11-15", 0,
  "2020-11-16", 0,
  "2020-11-17", 0,
  "2020-11-18", 0,
  "2020-11-19", 0,
  "2020-11-20", 0,
  "2020-11-21", 0,
  "2020-11-22", 0,
  "2020-11-23", 0,
  "2020-11-24", 0,
  "2020-11-25", 0,
  "2020-11-26", 0,
  "2020-11-27", 0,
  "2020-11-28", 0,
  "2020-11-29", 0,
  "2020-11-30", 0,
  "2020-12-01", 0,
  "2020-12-02", 0,
  "2020-12-03", 0,
  "2020-12-04", 0,
  "2020-12-05", 0,
  "2020-12-06", 0,
  "2020-12-07", 0,
  "2020-12-08", 0,
  "2020-12-09", 0,
  "2020-12-11", 0,
  "2020-12-12", 0,
  "2020-12-13", 0,
  "2020-12-14", 0,
  "2020-12-15", 0,
  "2020-12-16", 0,
  "2020-12-17", 0,
  "2020-12-18", 0,
  ) %>% mutate(Date=as.Date(Date))

confirmedDates <- tribble(
  ~Date, ~Confirmed,
  "2020-02-28", 1.0, # https://www.health.govt.nz/news-media/media-releases/single-case-covid-19-confirmed-new-zealand
  "2020-03-04", 1, # https://www.health.govt.nz/news-media/media-releases/second-case-covid-19-confirmed-nz
  "2020-03-05", 1, # https://www.health.govt.nz/news-media/media-releases/third-case-covid-19-confirmed-new-zealand
  "2020-03-06", 1, # https://www.health.govt.nz/news-media/media-releases/fourth-case-covid-19-confirmed-new-zealand
  "2020-03-07", 1, # https://www.health.govt.nz/news-media/news-items/covid-19-novel-coronavirus-update-7-march
  "2020-03-14", 1, # https://www.health.govt.nz/news-media/media-releases/covid-19-6th-case-overseas-link
  "2020-03-15", 2, # https://www.health.govt.nz/news-media/media-releases/covid-19-7th-and-8th-cases-overseas-links
  "2020-03-17", 4, # https://www.health.govt.nz/news-media/media-releases/covid-19-one-additional-case-linked-overseas-travel https://www.health.govt.nz/news-media/media-releases/covid-19-three-new-cases-linked-overseas
  "2020-03-18", 8, # https://www.health.govt.nz/news-media/media-releases/covid-19-eight-new-cases-linked-overseas-travel
  "2020-03-19", 8, # https://www.health.govt.nz/news-media/media-releases/new-cases-covid-19-confirmed-no-community-transmission
  "2020-03-20", 11, # https://www.health.govt.nz/news-media/media-releases/11-new-cases-covid-19
  "2020-03-21", 13, # https://www.health.govt.nz/news-media/media-releases/covid-19-update-21-march
  "2020-03-22", 14, # https://www.health.govt.nz/news-media/media-releases/covid-19-update-22-march-2020
  "2020-03-23", 36, # https://www.health.govt.nz/news-media/media-releases/36-new-cases-covid-19-new-zealand
  "2020-03-24", 40, # https://www.health.govt.nz/news-media/media-releases/40-new-confirmed-cases-covid-19-new-zealand
  "2020-03-25", 47, # https://www.health.govt.nz/news-media/news-items/covid-19-media-update-25-march
  "2020-03-26", 73, # https://www.health.govt.nz/news-media/news-items/covid-19-media-update-26-march
  "2020-03-27", 76,
  "2020-03-28", 78,
  "2020-03-29", 60,
  "2020-03-30", 76,
  "2020-03-31", 48,
  "2020-04-01", 47,
  "2020-04-02", 76,
  "2020-04-03", 49,
  "2020-04-04", 52,
  "2020-04-05", 48,
  "2020-04-06", 39,
  "2020-04-07", 32,
  "2020-04-08", 26,
  "2020-04-09", 23,
  "2020-04-10", 23,
  "2020-04-11", 20,
  "2020-04-12", 14,
  "2020-04-13", 15,
  "2020-04-14", 8,
  "2020-04-15", 6,
  "2020-04-16", 6,
  "2020-04-17", 2,
  "2020-04-18", 8,
  "2020-04-19", 4,
  "2020-04-20", 7,
  "2020-04-21", 2,
  "2020-04-22", 3,
  "2020-04-23", 5,
  "2020-04-24", 2,
  "2020-04-25", 3,
  "2020-04-26", 4,
  "2020-04-27", 1,
  "2020-04-28", 2,
  "2020-04-29", 2,
  "2020-04-30", 3,
  "2020-05-01", 3,
  "2020-05-02", 2,
  "2020-05-03", 2,
  "2020-05-04", 1,
  "2020-05-05", 0,
  "2020-05-06", 1,
  "2020-05-07", 1,
  "2020-05-08", 2,
  "2020-05-09", 1,
  "2020-05-10", 3,
  "2020-05-11", 3,
  "2020-05-12", 0,
  "2020-05-13", 0,
  "2020-05-14", 0,
  "2020-05-15", 1,
  "2020-05-16", 0,
  "2020-05-17", 1,
  "2020-05-18", 0,
  "2020-05-19", 0,
  "2020-05-20", 0,
  "2020-05-21", 0,
  "2020-05-22", 1,
  "2020-05-23", 0,
  "2020-05-24", 0,
  "2020-05-25", 0,
  "2020-05-26", 0,
  "2020-05-27", 0,
  "2020-05-28", 0,
  "2020-05-29", 0,
  "2020-05-30", 0,
  "2020-05-31", 0,
  "2020-06-01", 0,
  "2020-06-02", 0,
  "2020-06-03", 0,
  "2020-06-04", 0,
  "2020-06-05", 0,
  "2020-06-06", 0,
  "2020-06-07", 0,
  "2020-06-08", 0,
  "2020-06-09", 0,
  "2020-06-10", 0,
  "2020-06-11", 0,
  "2020-06-12", 0,
  "2020-06-13", 0,
  "2020-06-14", 0,
  "2020-06-15", 0,
  "2020-06-16", 2,
  "2020-06-17", 0,
  "2020-06-18", 1,
  "2020-06-19", 0,
  "2020-06-20", 2,
  "2020-06-21", 2,
  "2020-06-22", 2,
  "2020-06-23", 2,
  "2020-06-24", 1,
  "2020-06-24", 0,
  "2020-06-25", 3,
  "2020-06-26", 1,
  "2020-06-27", 2,
  "2020-06-28", 4,
  "2020-06-29", 2,
  "2020-06-30", 0,
  "2020-07-01", 0,
  "2020-07-02", 2,
  "2020-07-03", 0,
  "2020-07-04", 0,
  "2020-07-05", 3,
  "2020-07-06", 1,
  "2020-07-07", 2,
  "2020-07-08", 1,
  "2020-07-09", 3,
  "2020-07-10", 2,
  "2020-07-11", 1,
  "2020-07-12", 1,
  "2020-07-13", 0,
  "2020-07-14", 1,
  "2020-07-15", 2,
  "2020-07-16", 1,
  "2020-07-17", 1,
  "2020-07-18", 1,
  "2020-07-19", 3,
  "2020-07-20", 1,
  "2020-07-21", 1,
  "2020-07-22", 0,
  "2020-07-23", 0,
  "2020-07-24", 1,
  "2020-07-25", 0,
  "2020-07-26", 0,
  "2020-07-27", 0,
  "2020-07-28", 1,
  "2020-07-29", 2,
  "2020-07-30", 1,
  "2020-07-31", 0,
  "2020-08-01", 2,
  "2020-08-02", 3,
  "2020-08-03", 2,
  "2020-08-04", 0,
  "2020-08-05", 2,
  "2020-08-06", 0,
  "2020-08-07", 0,
  "2020-08-08", 0,
  "2020-08-09", 0,
  "2020-08-10", 0,
  "2020-08-11", 5,
  "2020-08-12", 1,
  "2020-08-13", 14,
  "2020-08-14", 12,
  "2020-08-15", 7,
  "2020-08-16", 13,
  "2020-08-17", 9,
  "2020-08-18", 13,
  "2020-08-19", 6,
  "2020-08-20", 5,
  "2020-08-21", 11,
  "2020-08-22", 6,
  "2020-08-23", 3,
  "2020-08-24", 8,
  "2020-08-25", 7,
  "2020-08-26", 5,
  "2020-08-27", 7,
  "2020-08-28", 12,
  "2020-08-29", 13,
  "2020-08-30", 2,
  "2020-08-31", 9,
  "2020-09-01", 14,
  "2020-09-02", 5,
  "2020-09-03", 2,
  "2020-09-04", 5,
  "2020-09-05", 3,
  "2020-09-06", 5,
  "2020-09-07", 4,
  "2020-09-08", 6,
  "2020-09-09", 6,
  "2020-09-10", 4,
  "2020-09-11", 1,
  "2020-09-12", 2,
  "2020-09-13", 2,
  "2020-09-14", 1,
  "2020-09-15", 3,
  "2020-09-16", 1,
  "2020-09-17", 7,
  "2020-09-18", 0,
  "2020-09-19", 2,
  "2020-09-20", 4,
  "2020-09-21", 0,
  "2020-09-22", 0,
  "2020-09-23", 4,
  "2020-09-24", 3,
  "2020-09-25", 2,
  "2020-09-26", 2,
  "2020-09-27", 2,
  "2020-09-28", 0,
  "2020-09-29", 2,
  "2020-09-30", 1,
  "2020-10-01", 12,
  "2020-10-02", 0,
  "2020-10-03", 1,
  "2020-10-04", 5,
  "2020-10-05", 1,
  "2020-10-06", 3,
  "2020-10-07", 3,
  "2020-10-08", 3,
  "2020-10-09", 2,
  "2020-10-10", 4,
  "2020-10-11", 1,
  "2020-10-12", 0,
  "2020-10-13", 1,
  "2020-10-14", 2,
  "2020-10-15", 2,
  "2020-10-16", 4,
  "2020-10-17", 3,
  "2020-10-18", 3,
  "2020-10-19", 0,
  "2020-10-20", 1,
  "2020-10-21", 25,
  "2020-10-22", 2,
  "2020-10-23", 9,
  "2020-10-24", 11,
  "2020-10-25", 1,
  "2020-10-26", 5,
  "2020-10-27", 1,
  "2020-10-28", 2,
  "2020-10-29", 6,
  "2020-10-30", 1,
  "2020-10-31", 7,
  "2020-11-01", 2,
  "2020-11-02", 4,
  "2020-11-03", 5,
  "2020-11-04", 3,
  "2020-11-05", 2,
  "2020-11-06", 1,
  "2020-11-07", 2,
  "2020-11-08", 6,
  "2020-11-09", 4,
  "2020-11-10", 1,
  "2020-11-11", 1,
  "2020-11-12", 3,
  "2020-11-13", 4,
  "2020-11-14", 3,
  "2020-11-15", 3,
  "2020-11-16", 0,
  "2020-11-17", 4,
  "2020-11-18", 3,
  "2020-11-19", 2,
  "2020-11-20", 3,
  "2020-11-21", 6,
  "2020-11-22", 9,
  "2020-11-23", 2,
  "2020-11-24", 2,
  "2020-11-25", 8,
  "2020-11-26", 1,
  "2020-11-27", 7,
  "2020-11-28", 3,
  "2020-11-29", 2,
  "2020-11-30", 4,
  "2020-12-01", 3,
  "2020-12-02", 1,
  "2020-12-03", 9,
  "2020-12-04", 0,
  "2020-12-05", 9,
  "2020-12-06", 0,
  "2020-12-07", 1,
  "2020-12-08", 6,
  "2020-12-09", 3,
  "2020-12-10", 0,
  "2020-12-11", 3,
  "2020-12-12", 0,
  "2020-12-13", 4,
  "2020-12-14", 0,
  "2020-12-15", 0,
  "2020-12-16", 4,
  "2020-12-17", 0,
  "2020-12-18", 10,
  ) %>% mutate(Date=as.Date(Date))


# recovered numbers are read from main page manually or pulled from livestream
recoveredDates <- tribble(
  ~Date, ~Recovered,
  "2020-03-24", 12.0,
  "2020-03-25", 10,
  "2020-03-26", 5,
  "2020-03-27", 10,
  "2020-03-28", 13,
  "2020-03-29", 6,
  "2020-03-30", 7,
  "2020-03-31", 11,
  "2020-04-01", 9,
  "2020-04-02", 9,
  "2020-04-03", 11,
  "2020-04-04", 24,
  "2020-04-05", 29,
  "2020-04-06", 20,
  "2020-04-07", 65,
  "2020-04-08", 41,
  "2020-04-09", 35,
  "2020-04-10", 56,
  "2020-04-11", 49,
  "2020-04-12", 49,
  "2020-04-13", 75,
  "2020-04-14", 82,
  "2020-04-15", 100,
  "2020-04-16", 42,
  "2020-04-17", 46,
  "2020-04-18", 51,
  "2020-04-19", 45,
  "2020-04-20", 62,
  "2020-04-21", 32,
  "2020-04-22", 30,
  "2020-04-23", 29,
  "2020-04-24", 30,
  "2020-04-25", 23,
  "2020-04-26", 24,
  "2020-04-27", 38,
  "2020-04-28", 34,
  "2020-04-29", 15,
  "2020-04-30", 12,
  "2020-05-01", 11,
  "2020-05-02", 11,
  "2020-05-03", 3,
  "2020-05-04", 10,
  "2020-05-05", 26,
  "2020-05-06", 14,
  "2020-05-07", 16,
  "2020-05-08", 15,
  "2020-05-09", 21,
  "2020-05-10", 3,
  "2020-05-11", 15,
  "2020-05-12", 12,
  "2020-05-13", 4,
  "2020-05-14", 9,
  "2020-05-15", 10,
  "2020-05-16", 7,
  "2020-05-17", 5,
  "2020-05-18", 0,
  "2020-05-19", 9,
  "2020-05-20", 5,
  "2020-05-21", 5,
  "2020-05-22", 3,
  "2020-05-23", 0,
  "2020-05-24", 1,
  "2020-05-25", 0,
  "2020-05-26", 5,
  "2020-05-27", 1,
  "2020-05-28", 12,
  "2020-05-29", 7,
  "2020-05-30", 0,
  "2020-05-31", 0,
  "2020-06-01", 0,
  "2020-06-02", 0,
  "2020-06-03", 0,
  "2020-06-04", 0,
  "2020-06-05", 0,
  "2020-06-06", 0,
  "2020-06-07", 0,
  "2020-06-08", 1,
  "2020-06-09", 0,
  "2020-06-10", 0,
  "2020-06-11", 0,
  "2020-06-12", 0,
  "2020-06-13", 0,
  "2020-06-14", 0,
  "2020-06-15", 0,
  "2020-06-16", 0,
  "2020-06-17", 0,
  "2020-06-18", 0,
  "2020-06-19", 0,
  "2020-06-20", 0,
  "2020-06-21", 0,
  "2020-06-22", 0,
  "2020-06-23", 1,
  "2020-06-24", 0,
  "2020-06-25", 1,
  "2020-06-26", 0,
  "2020-06-27", 0,
  "2020-06-28", 0,
  "2020-06-29", 0,
  "2020-06-30", 0,
  "2020-07-01", 0,
  "2020-07-02", 6,
  "2020-07-03", 0,
  "2020-07-04", 0,
  "2020-07-05", 0,
  "2020-07-06", 0,
  "2020-07-07", 2,
  "2020-07-08", 0,
  "2020-07-09", 2,
  "2020-07-10", 3,
  "2020-07-11", 0,
  "2020-07-12", 0,
  "2020-07-13", 0,
  "2020-07-14", 1,
  "2020-07-15", 0,
  "2020-07-16", 1,
  "2020-07-17", 7,
  "2020-07-18", 0,
  "2020-07-19", 0,
  "2020-07-20", 0,
  "2020-07-21", 0,
  "2020-07-22", 0,
  "2020-07-23", 5,
  "2020-07-24", 2,
  "2020-07-25", 0,
  "2020-07-26", 0,
  "2020-07-27", 0,
  "2020-07-28", 1,
  "2020-07-29", 0,
  "2020-07-30", 0,
  "2020-07-31", 4,
  "2020-08-01", 0,
  "2020-08-02", 0,
  "2020-08-03", 0,
  "2020-08-04", 5,
  "2020-08-05", 0,
  "2020-08-06", 1,
  "2020-08-07", 0,
  "2020-08-08", 0,
  "2020-08-09", 0,
  "2020-08-10", 2,
  "2020-08-11", 0,
  "2020-08-12", 5,
  "2020-08-13", 0,
  "2020-08-14", 0,
  "2020-08-15", 0,
  "2020-08-16", 0,
  "2020-08-17", 0,
  "2020-08-18", 0,
  "2020-08-19", 0,
  "2020-08-20", 0,
  "2020-08-21", 7,
  "2020-08-22", 0,
  "2020-08-23", 0,
  "2020-08-24", 0,
  "2020-08-25", 1,
  "2020-08-26", 0,
  "2020-08-27", 15,
  "2020-08-28", 7,
  "2020-08-29", 7,
  "2020-08-30", 2,
  "2020-08-31", 15,
  "2020-09-01", 13,
  "2020-09-02", 8,
  "2020-09-03", 16,
  "2020-09-04", 8,
  "2020-09-05", 1,
  "2020-09-06", 1,
  "2020-09-07", 2,
  "2020-09-08", 1,
  "2020-09-09", 4,
  "2020-09-10", 9,
  "2020-09-11", 7,
  "2020-09-12", 8,
  "2020-09-13", 13,
  "2020-09-14", 2,
  "2020-09-15", 16,
  "2020-09-16", 4,
  "2020-09-17", 9,
  "2020-09-18", 7,
  "2020-09-19", 5,
  "2020-09-20", 0,
  "2020-09-21", 9,
  "2020-09-22", 1,
  "2020-09-23", 8,
  "2020-09-24", 0,
  "2020-09-25", 7,
  "2020-09-26", 1,
  "2020-09-27", 4,
  "2020-09-28", 0,
  "2020-09-29", 6,
  "2020-09-30", 12,
  "2020-10-01", 3,
  "2020-10-02", 10,
  "2020-10-03", 3,
  "2020-10-04", 5,
  "2020-10-05", 2,
  "2020-10-06", 0,
  "2020-10-07", 9,
  "2020-10-08", 1,
  "2020-10-09", 0,
  "2020-10-10", 1,
  "2020-10-11", 0,
  "2020-10-12", 0,
  "2020-10-13", 7,
  "2020-10-14", 1,
  "2020-10-15", 0,
  "2020-10-16", 0,
  "2020-10-17", 9,
  "2020-10-18", 1,
  "2020-10-19", 5,
  "2020-10-20", 5,
  "2020-10-21", 2,
  "2020-10-22", 0,
  "2020-10-23", 1,
  "2020-10-24", 3,
  "2020-10-25", 5,
  "2020-10-26", 1,
  "2020-10-27", 7,
  "2020-10-28", 4,
  "2020-10-29", 2,
  "2020-10-30", 3,
  "2020-10-31", 0,
  "2020-11-01", 0,
  "2020-11-02", 0,
  "2020-11-03", 11,
  "2020-11-04", 5,
  "2020-11-05", 8,
  "2020-11-06", 24,
  "2020-11-07", 3,
  "2020-11-08", 1,
  "2020-11-09", 1,
  "2020-11-10", 0,
  "2020-11-11", 1,
  "2020-11-12", 2,
  "2020-11-13", 4,
  "2020-11-14", 1,
  "2020-11-15", 0,
  "2020-11-16", 0,
  "2020-11-17", 1,
  "2020-11-18", 0,
  "2020-11-19", 29,
  "2020-11-20", 0,
  "2020-11-21", 4,
  "2020-11-22", 1,
  "2020-11-23", 0,
  "2020-11-24", 1,
  "2020-11-25", 2,
  "2020-11-26", 0,
  "2020-11-27", 1,
  "2020-11-28", 0,
  "2020-11-29", 2,
  "2020-11-30", 1,
  "2020-12-01", 3,
  "2020-12-02", 1,
  "2020-12-03", 11,
  "2020-12-04", 9,
  "2020-12-05", 11,
  "2020-12-06", 3,
  "2020-12-07", 1,
  "2020-12-08", 8,
  "2020-12-09", 2,
  "2020-12-10", 0,
  "2020-12-11", 1,
  "2020-12-12", 0,
  "2020-12-13", 5,
  "2020-12-14", 0,
  "2020-12-15", 0,
  "2020-12-16", 17,
  "2020-12-17", 0,
  "2020-12-18", 2,
  ) %>% mutate(Date=as.Date(Date))

# hospitalisations data are the total number of people in hospital on a given
# day - NOT the number admitted that day - making it a different kind of number to the rest
hospitalisationDates <- tribble(
  ~Date, ~`In Hospital Now`, ~`Total Been In Hospital`, ~`In ICU`,
  "2020-03-24", 6.0, NA, 0.0,
  "2020-03-25", 6, NA, 0,
  "2020-03-26", 7, NA, 0,
  "2020-03-27", 8, 20, 1,
  "2020-03-28", 12, 22, 2,
  "2020-03-29", 9, 28, 1,
  "2020-03-30", 12, 28, 2,
  "2020-03-31", 14, NA, 2,
  "2020-04-01", 14, NA, 2,
  "2020-04-02", 13, NA, 2,
  "2020-04-03", 13, NA, 1,
  "2020-04-04", 10, NA, 1,
  "2020-04-05", 15, NA, 3,
  "2020-04-06", 13, NA, 3,
  "2020-04-07", 12, NA, 4,
  "2020-04-08", 12, NA, 4,
  "2020-04-09", 14, NA, 4,
  "2020-04-10", 16, NA, 4,
  "2020-04-11", 15, NA, 5,
  "2020-04-12", 14, NA, 5,
  "2020-04-13", 15, NA, 4,
  "2020-04-14", 15, NA, 3,
  "2020-04-15", 13, NA, 3,
  "2020-04-16", 12, NA, 3,
  "2020-04-17", 14, NA, 3,
  "2020-04-18", 20, NA, 3,
  "2020-04-19", 18, NA, 3,
  "2020-04-20", 14, NA, 3,
  "2020-04-21", 12, NA, 3,
  "2020-04-22", 11, NA, 2,
  "2020-04-23", 8, NA, 1,
  "2020-04-24", 8, NA, 1,
  "2020-04-25", 7, NA, 1,
  "2020-04-26", 7, NA, 1,
  "2020-04-27", 7, NA, 1,
  "2020-04-28", 9, NA, 1,
  "2020-04-29", 6, NA, 0,
  "2020-04-30", 7, NA, 0,
  "2020-05-01", 6, NA, 0,
  "2020-05-02", 5, NA, 0,
  "2020-05-03", 8, NA, 0,
  "2020-05-04", 4, NA, 0,
  "2020-05-05", 4, NA, 0,
  "2020-05-06", 2, NA, 0,
  "2020-05-07", 2, NA, 0,
  "2020-05-08", 3, NA, 0,
  "2020-05-09", 2, NA, 0,
  "2020-05-10", 2, NA, 0,
  "2020-05-11", 2, NA, 0,
  "2020-05-12", 2, NA, 0,
  "2020-05-13", 2, NA, 0,
  "2020-05-14", 2, NA, 0,
  "2020-05-15", 2, NA, 0,
  "2020-05-16", 3, NA, 0,
  "2020-05-17", 2, NA, 0,
  "2020-05-18", 2, NA, 0,
  "2020-05-19", 2, NA, 0,
  "2020-05-20", 1, NA, 0,
  "2020-05-21", 1, NA, 0,
  "2020-05-22", 1, NA, 0,
  "2020-05-23", 1, NA, 0,
  "2020-05-24", 1, NA, 0,
  "2020-05-25", 1, NA, 0,
  "2020-05-26", 1, NA, 0,
  "2020-05-27", 0, NA, 0,
  "2020-05-28", 0, NA, 0,
  "2020-05-29", 0, NA, 0,
  "2020-05-30", 0, NA, 0,
  "2020-05-31", 0, NA, 0,
  "2020-06-01", 0, NA, 0,
  "2020-06-02", 0, NA, 0,
  "2020-06-03", 0, NA, 0,
  "2020-06-04", 0, NA, 0,
  "2020-06-05", 0, NA, 0,
  "2020-06-06", 0, NA, 0,
  "2020-06-07", 0, NA, 0,
  "2020-06-08", 0, NA, 0,
  "2020-06-09", 0, NA, 0,
  "2020-06-10", 0, NA, 0,
  "2020-06-11", 0, NA, 0,
  "2020-06-12", 0, NA, 0,
  "2020-06-13", 0, NA, 0,
  "2020-06-14", 0, NA, 0,
  "2020-06-15", 0, NA, 0,
  "2020-06-16", 0, NA, 0,
  "2020-06-17", 0, NA, 0,
  "2020-06-18", 0, NA, 0,
  "2020-06-19", 0, NA, 0,
  "2020-06-20", 0, NA, 0,
  "2020-06-21", 0, NA, 0,
  "2020-06-22", 0, NA, 0,
  "2020-06-23", 0, NA, 0,
  "2020-06-24", 0, NA, 0,
  "2020-06-25", 0, NA, 0,
  "2020-06-26", 0, NA, 0,
  "2020-06-27", 0, NA, 0,
  "2020-06-28", 1, NA, 0,
  "2020-06-29", 1, NA, 0,
  "2020-06-30", 1, NA, 0,
  "2020-07-01", 1, NA, 0,
  "2020-07-02", 1, NA, 0,
  "2020-07-03", 1, NA, 0,
  "2020-07-04", 1, NA, 0,
  "2020-07-05", 1, NA, 0,
  "2020-07-06", 1, NA, 0,
  "2020-07-07", 0, NA, 0,
  "2020-07-08", 0, NA, 0,
  "2020-07-09", 0, NA, 0,
  "2020-07-10", 0, NA, 0,
  "2020-07-11", 0, NA, 0,
  "2020-07-12", 0, NA, 0,
  "2020-07-13", 0, NA, 0,
  "2020-07-14", 0, NA, 0,
  "2020-07-15", 0, NA, 0,
  "2020-07-16", 0, NA, 0,
  "2020-07-17", 0, NA, 0,
  "2020-07-18", 0, NA, 0,
  "2020-07-19", 0, NA, 0,
  "2020-07-20", 0, NA, 0,
  "2020-07-21", 0, NA, 0,
  "2020-07-22", 0, NA, 0,
  "2020-07-23", 0, NA, 0,
  "2020-07-24", 0, NA, 0,
  "2020-07-25", 0, NA, 0,
  "2020-07-26", 0, NA, 0,
  "2020-07-27", 0, NA, 0,
  "2020-07-28", 0, NA, 0,
  "2020-07-29", 0, NA, 0,
  "2020-07-30", 0, NA, 0,
  "2020-07-31", 0, NA, 0,
  "2020-08-01", 0, NA, 0,
  "2020-08-02", 0, NA, 0,
  "2020-08-03", 0, NA, 0,
  "2020-08-04", 0, NA, 0,
  "2020-08-05", 0, NA, 0,
  "2020-08-06", 0, NA, 0,
  "2020-08-07", 0, NA, 0,
  "2020-08-08", 0, NA, 0,
  "2020-08-09", 0, NA, 0,
  "2020-08-10", 0, NA, 0,
  "2020-08-11", 0, NA, 0,
  "2020-08-12", 0, NA, 0,
  "2020-08-13", 1, NA, 0,
  "2020-08-14", 1, NA, 0,
  "2020-08-15", 1, NA, 0,
  "2020-08-16", 3, NA, 0,
  "2020-08-17", 5, NA, 0,
  "2020-08-18", 6, NA, 0,
  "2020-08-19", 5, NA, 0,
  "2020-08-20", 6, NA, 1,
  "2020-08-21", 9, NA, 1,
  "2020-08-22", 9, NA, 3,
  "2020-08-23", 9, NA, 3,
  "2020-08-24", 10, NA, 2,
  "2020-08-25", 9, NA, 3,
  "2020-08-26", 10, NA, 3,
  "2020-08-27", 10, NA, 2,
  "2020-08-28", 11, NA, 3,
  "2020-08-29", 11, NA, 3,
  "2020-08-30", 10, NA, 2,
  "2020-08-31", 11, NA, 2,
  "2020-09-01", 10, NA, 2,
  "2020-09-02", 7, NA, 2,
  "2020-09-03", 7, NA, 2,
  "2020-09-04", 6, NA, 2,
  "2020-09-05", 2, NA, 1,
  "2020-09-06", 4, NA, 1,
  "2020-09-07", 4, NA, 1,
  "2020-09-08", 4, NA, 2,
  "2020-09-09", 4, NA, 2,
  "2020-09-10", 3, NA, 2,
  "2020-09-11", 3, NA, 2,
  "2020-09-12", 3, NA, 2,
  "2020-09-13", 3, NA, 2,
  "2020-09-14", 3, NA, 2,
  "2020-09-15", 3, NA, 2,
  "2020-09-16", 3, NA, 2,
  "2020-09-17", 4, NA, 0,
  "2020-09-18", 4, NA, 1,
  "2020-09-19", 4, NA, 0,
  "2020-09-20", 3, NA, 0,
  "2020-09-21", 3, NA, 0,
  "2020-09-22", 3, NA, 0,
  "2020-09-23", 3, NA, 0,
  "2020-09-24", 3, NA, 0,
  "2020-09-25", 3, NA, 0,
  "2020-09-26", 2, NA, 0,
  "2020-09-27", 1, NA, 0,
  "2020-09-28", 1, NA, 0,
  "2020-09-29", 1, NA, 0,
  "2020-09-30", 1, NA, 0,
  "2020-10-01", 1, NA, 0,
  "2020-10-02", 0, NA, 0,
  "2020-10-03", 0, NA, 0,
  "2020-10-04", 0, NA, 0,
  "2020-10-05", 0, NA, 0,
  "2020-10-06", 1, NA, 0,
  "2020-10-07", 1, NA, 0,
  "2020-10-08", 1, NA, 0,
  "2020-10-09", 1, NA, 0,
  "2020-10-10", 0, NA, 0,
  "2020-10-11", 0, NA, 0,
  "2020-10-12", 0, NA, 0,
  "2020-10-13", 0, NA, 0,
  "2020-10-14", 0, NA, 0,
  "2020-10-15", 0, NA, 0,
  "2020-10-16", 0, NA, 0,
  "2020-10-17", 0, NA, 0,
  "2020-10-18", 0, NA, 0,
  "2020-10-19", 0, NA, 0,
  "2020-10-20", 0, NA, 0,
  "2020-10-21", 0, NA, 0,
  "2020-10-22", 0, NA, 0,
  "2020-10-23", 0, NA, 0,
  "2020-10-24", 0, NA, 0,
  "2020-10-25", 0, NA, 0,
  "2020-10-26", 0, NA, 0,
  "2020-10-27", 0, NA, 0,
  "2020-10-28", 0, NA, 0,
  "2020-10-29", 0, NA, 0,
  "2020-10-30", 0, NA, 0,
  "2020-10-31", 0, NA, 0,
  "2020-11-01", 0, NA, 0,
  "2020-11-02", 0, NA, 0,
  "2020-11-03", 0, NA, 0,
  "2020-11-04", 0, NA, 0,
  "2020-11-05", 0, NA, 0,
  "2020-11-06", 0, NA, 0,
  "2020-11-07", 0, NA, 0,
  "2020-11-08", 0, NA, 0,
  "2020-11-09", 0, NA, 0,
  "2020-11-10", 0, NA, 0,
  "2020-11-11", 0, NA, 0,
  "2020-11-12", 0, NA, 0,
  "2020-11-13", 0, NA, 0,
  "2020-11-14", 0, NA, 0,
  "2020-11-15", 0, NA, 0,
  "2020-11-16", 0, NA, 0,
  "2020-11-17", 0, NA, 0,
  "2020-11-18", 0, NA, 0,
  "2020-11-19", 0, NA, 0,
  "2020-11-20", 0, NA, 0,
  "2020-11-21", 0, NA, 0,
  "2020-11-22", 0, NA, 0,
  "2020-11-23", 0, NA, 0,
  "2020-11-24", 0, NA, 0,
  "2020-11-25", 0, NA, 0,
  "2020-11-26", 0, NA, 0,
  "2020-11-27", 0, NA, 0,
  "2020-11-28", 0, NA, 0,
  "2020-11-29", 0, NA, 0,
  "2020-11-30", 0, NA, 0,
  "2020-12-01", 0, NA, 0,
  "2020-12-02", 0, NA, 0,
  "2020-12-03", 0, NA, 0,
  "2020-12-04", 0, NA, 0,
  "2020-12-05", 0, NA, 0,
  "2020-12-06", 0, NA, 0,
  "2020-12-07", 0, NA, 0,
  "2020-12-08", 0, NA, 0,
  "2020-12-09", 0, NA, 0,
  "2020-12-10", 0, NA, 0,
  "2020-12-11", 0, NA, 0,
  "2020-12-12", 0, NA, 0,
  "2020-12-13", 0, NA, 0,
  "2020-12-14", 0, NA, 0,
  "2020-12-15", 0, NA, 0,
  "2020-12-16", 0, NA, 0,
  "2020-12-17", 0, NA, 0,
  "2020-12-18", 0, NA, 0,
  ) %>% mutate(Date=as.Date(Date))

  deathsDates <- tribble(
    ~Date, ~Deaths, ~`Total Deaths`,
    "2020-03-29", 1, 1,
    "2020-03-30", 0, 1,
    "2020-03-31", 0, 1,
    "2020-04-01", 0, 1,
    "2020-04-02", 0, 1,
    "2020-04-03", 0, 1,
    "2020-04-04", 0 ,1,
    "2020-04-05", 0 ,1,
    "2020-04-06", 0 ,1,
    "2020-04-07", 0 ,1,
    "2020-04-08", 0 ,1,
    "2020-04-09", 0 ,1,
    "2020-04-10", 1 ,2,
    "2020-04-11", 2 ,4,
    "2020-04-12", 0 ,4,
    "2020-04-13", 1 ,5,
    "2020-04-14", 4 ,9,
    "2020-04-15", 0 ,9,
    "2020-04-16", 0 ,9,
    "2020-04-17", 2 ,11,
    "2020-04-18", 0 ,11,
    "2020-04-19", 1 ,12,
    "2020-04-20", 0 ,12,
    "2020-04-21", 1 ,13,
    "2020-04-22", 1 ,14,
    "2020-04-23", 2 ,16,
    "2020-04-24", 1 ,17,
    "2020-04-25", 1 ,18,
    "2020-04-26", 0 ,18,
    "2020-04-27", 1 ,19,
    "2020-04-28", 0 ,19,
    "2020-04-29", 0 ,19,
    "2020-04-30", 0 ,19,
    "2020-05-01", 0 ,19,
    "2020-05-02", 1 ,20,
    "2020-05-03", 0 ,20,
    "2020-05-04", 0 ,20,
    "2020-05-05", 0 ,20,
    "2020-05-06", 1 ,21,
    "2020-05-07", 0 ,21,
    "2020-05-08", 0 ,21,
    "2020-05-09", 0 ,21,
    "2020-05-10", 0 ,21,
    "2020-05-11", 0 ,21,
    "2020-05-12", 0 ,21,
    "2020-05-13", 0 ,21,
    "2020-05-14", 0 ,21,
    "2020-05-15", 0 ,21,
    "2020-05-16", 0 ,21,
    "2020-05-17", 0 ,21,
    "2020-05-18", 0 ,21,
    "2020-05-19", 0 ,21,
    "2020-05-20", 0 ,21,
    "2020-05-21", 0 ,21,
    "2020-05-22", 0 ,21,
    "2020-05-23", 0 ,21,
    "2020-05-24", 0 ,21,
    "2020-05-25", 0 ,21,
    "2020-05-26", 0 ,21,
    "2020-05-27", 0 ,21,
    "2020-05-28", 0 ,22,
    "2020-05-29", 0 ,22,
    "2020-05-30", 0 ,22,
    "2020-05-31", 0 ,22,
    "2020-06-01", 0 ,22,
    "2020-06-02", 0 ,22,
    "2020-06-03", 0 ,22,
    "2020-06-04", 0 ,22,
    "2020-06-05", 0 ,22,
    "2020-06-06", 0 ,22,
    "2020-06-07", 0 ,22,
    "2020-06-08", 0 ,22,
    "2020-06-09", 0 ,22,
    "2020-06-10", 0 ,22,
    "2020-06-11", 0 ,22,
    "2020-06-12", 0 ,22,
    "2020-06-13", 0 ,22,
    "2020-06-14", 0 ,22,
    "2020-06-15", 0 ,22,
    "2020-06-16", 0 ,22,
    "2020-06-17", 0 ,22,
    "2020-06-18", 0 ,22,
    "2020-06-19", 0 ,22,
    "2020-06-20", 0 ,22,
    "2020-06-21", 0 ,22,
    "2020-06-22", 0 ,22,
    "2020-06-23", 0 ,22,
    "2020-06-24", 0 ,22,
    "2020-06-25", 0 ,22,
    "2020-06-26", 0 ,22,
    "2020-06-27", 0 ,22,
    "2020-06-28", 0 ,22,
    "2020-06-29", 0 ,22,
    "2020-06-30", 0 ,22,
    "2020-07-01", 0 ,22,
    "2020-07-02", 0 ,22,
    "2020-07-03", 0 ,22,
    "2020-07-04", 0 ,22,
    "2020-07-05", 0 ,22,
    "2020-07-06", 0 ,22,
    "2020-07-07", 0 ,22,
    "2020-07-08", 0 ,22,
    "2020-07-09", 0 ,22,
    "2020-07-10", 0 ,22,
    "2020-07-11", 0 ,22,
    "2020-07-12", 0 ,22,
    "2020-07-13", 0 ,22,
    "2020-07-14", 0 ,22,
    "2020-07-15", 0 ,22,
    "2020-07-16", 0 ,22,
    "2020-07-17", 0 ,22,
    "2020-07-18", 0 ,22,
    "2020-07-19", 0 ,22,
    "2020-07-20", 0 ,22,
    "2020-07-21", 0 ,22,
    "2020-07-22", 0 ,22,
    "2020-07-23", 0 ,22,
    "2020-07-24", 0 ,22,
    "2020-07-25", 0 ,22,
    "2020-07-26", 0 ,22,
    "2020-07-27", 0 ,22,
    "2020-07-28", 0 ,22,
    "2020-07-29", 0 ,22,
    "2020-07-30", 0 ,22,
    "2020-07-31", 0 ,22,
    "2020-08-01", 0 ,22,
    "2020-08-02", 0 ,22,
    "2020-08-03", 0 ,22,
    "2020-08-04", 0 ,22,
    "2020-08-05", 0 ,22,
    "2020-08-06", 0 ,22,
    "2020-08-07", 0 ,22,
    "2020-08-08", 0 ,22,
    "2020-08-09", 0 ,22,
    "2020-08-10", 0 ,22,
    "2020-08-11", 0 ,22,
    "2020-08-12", 0 ,22,
    "2020-08-13", 0 ,22,
    "2020-08-14", 0 ,22,
    "2020-08-15", 0 ,22,
    "2020-08-16", 0 ,22,
    "2020-08-17", 0 ,22,
    "2020-08-18", 0 ,22,
    "2020-08-19", 0 ,22,
    "2020-08-20", 0 ,22,
    "2020-08-21", 0 ,22,
    "2020-08-22", 0 ,22,
    "2020-08-23", 0 ,22,
    "2020-08-24", 0 ,22,
    "2020-08-25", 0 ,22,
    "2020-08-26", 0 ,22,
    "2020-08-27", 0 ,22,
    "2020-08-28", 0 ,22,
    "2020-08-29", 0 ,22,
    "2020-08-30", 0 ,22,
    "2020-08-31", 0 ,22,
    "2020-09-01", 0 ,22,
    "2020-09-02", 0 ,22,
    "2020-09-03", 0 ,22,
    "2020-09-04", 0 ,22,
    "2020-09-05", 2 ,24,
    "2020-09-06", 0 ,24,
    "2020-09-07", 0 ,24,
    "2020-09-08", 0 ,24,
    "2020-09-09", 0 ,24,
    "2020-09-10", 0 ,24,
    "2020-09-11", 0 ,24,
    "2020-09-12", 0 ,24,
    "2020-09-13", 0 ,24,
    "2020-09-14", 0 ,24,
    "2020-09-15", 0 ,24,
    "2020-09-16", 1 ,25,
    "2020-09-17", 0 ,25,
    "2020-09-18", 0 ,25,
    "2020-09-19", 0 ,25,
    "2020-09-20", 0 ,25,
    "2020-09-21", 0 ,25,
    "2020-09-22", 0 ,25,
    "2020-09-23", 0 ,25,
    "2020-09-24", 0 ,25,
    "2020-09-25", 0 ,25,
    "2020-09-26", 0 ,25,
    "2020-09-27", 0 ,25,
    "2020-09-28", 0 ,25,
    "2020-09-29", 0 ,25,
    "2020-09-30", 0 ,25,
    "2020-10-01", 0 ,25,
    "2020-10-02", 0 ,25,
    "2020-10-03", 0 ,25,
    "2020-10-04", 0 ,25,
    "2020-10-05", 0 ,25,
    "2020-10-06", 0 ,25,
    "2020-10-07", 0 ,25,
    "2020-10-08", 0 ,25,
    "2020-10-09", 0 ,25,
    "2020-10-10", 0 ,25,
    "2020-10-11", 0 ,25,
    "2020-10-12", 0 ,25,
    "2020-10-13", 0 ,25,
    "2020-10-14", 0 ,25,
    "2020-10-15", 0 ,25,
    "2020-10-16", 0 ,25,
    "2020-10-17", 0 ,25,
    "2020-10-18", 0 ,25,
    "2020-10-19", 0 ,25,
    "2020-10-20", 0 ,25,
    "2020-10-21", 0 ,25,
    "2020-10-22", 0 ,25,
    "2020-10-23", 0 ,25,
    "2020-10-24", 0 ,25,
    "2020-10-25", 0 ,25,
    "2020-10-26", 0 ,25,
    "2020-10-27", 0 ,25,
    "2020-10-28", 0 ,25,
    "2020-10-29", 0 ,25,
    "2020-10-30", 0 ,25,
    "2020-10-31", 0 ,25,
    "2020-11-01", 0 ,25,
    "2020-11-02", 0 ,25,
    "2020-11-03", 0 ,25,
    "2020-11-04", 0 ,25,
    "2020-11-05", 0 ,25,
    "2020-11-06", 0 ,25,
    "2020-11-07", 0 ,25,
    "2020-11-08", 0 ,25,
    "2020-11-09", 0 ,25,
    "2020-11-10", 0 ,25,
    "2020-11-11", 0 ,25,
    "2020-11-12", 0 ,25,
    "2020-11-13", 0 ,25,
    "2020-11-14", 0 ,25,
    "2020-11-15", 0 ,25,
    "2020-11-16", 0 ,25,
    "2020-11-17", 0 ,25,
    "2020-11-18", 0 ,25,
    "2020-11-19", 0 ,25,
    "2020-11-20", 0 ,25,
    "2020-11-21", 0 ,25,
    "2020-11-22", 0 ,25,
    "2020-11-23", 0 ,25,
    "2020-11-24", 0 ,25,
    "2020-11-25", 0 ,25,
    "2020-11-26", 0 ,25,
    "2020-11-27", 0 ,25,
    "2020-11-28", 0 ,25,
    "2020-11-29", 0 ,25,
    "2020-11-30", 0 ,25,
    "2020-12-01", 0 ,25,
    "2020-12-02", 0 ,25,
    "2020-12-03", 0 ,25,
    "2020-12-04", 0 ,25,
    "2020-12-05", 0 ,25,
    "2020-12-06", 0 ,25,
    "2020-12-07", 0 ,25,
    "2020-12-08", 0 ,25,
    "2020-12-09", 0 ,25,
    "2020-12-10", 0 ,25,
    "2020-12-11", 0 ,25,
    "2020-12-12", 0 ,25,
    "2020-12-13", 0 ,25,
    "2020-12-14", 0 ,25,
    "2020-12-15", 0 ,25,
    "2020-12-16", 0 ,25,
    "2020-12-17", 0 ,25,
    "2020-12-18", 0 ,25,
  ) %>% mutate(Date=as.Date(Date))

transmissionDates <- tribble(
  ~Date, ~Overseas, ~Contact, ~Investigating, ~Community, ~Established,
  # "2020-03-30", round(0.57*455), round(0.26*455), round(0.15*455), round(0.02*455), 455,
  "2020-03-31", round(0.53*647), round(0.29*647), round(0.17*647), round(0.01*647), NA,
  "2020-04-01", round(0.51*708), round(0.30*708), round(0.18*708), round(0.01*708), NA,
  "2020-04-02", round(0.51*797), round(0.31*797), round(0.17*797), round(0.01*797), NA,
  "2020-04-03", round(0.49*868), round(0.33*868), round(0.17*868), round(0.01*868), NA,
  "2020-04-04", round(0.47*950), round(0.34*950), round(0.17*950), round(0.01*950), NA,
  "2020-04-05", round(0.45*1039), round(0.36*1039), round(0.18*1039), round(0.01*1039), NA,
  "2020-04-06", round(0.43*1106), round(0.38*1106), round(0.17*1106), round(0.02*1106), NA,
  "2020-04-07", round(0.42*1160), round(0.41*1160), round(0.15*1160), round(0.02*1160), NA,
  "2020-04-08", round(0.41*1210), round(0.43*1210), round(0.14*1210), round(0.02*1210), NA,
  "2020-04-09", round(0.41*1239), round(0.44*1239), round(0.13*1239), round(0.02*1239), NA,
  "2020-04-10", round(0.40*1283), round(0.44*1283), round(0.14*1283), round(0.02*1283), NA,
  "2020-04-11", round(0.40*1312), round(0.46*1312), round(0.11*1312), round(0.02*1312), NA,
  "2020-04-12", round(0.40*1330), round(0.47*1330), round(0.11*1330), round(0.02*1330), NA,
  "2020-04-13", round(0.40*1349), round(0.47*1349), round(0.11*1349), round(0.02*1349), NA,
  "2020-04-14", round(0.39*1366), round(0.48*1366), round(0.11*1366), round(0.02*1366), NA,
  "2020-04-15", round(0.39*1386), round(0.48*1386), round(0.10*1386), round(0.02*1386), NA,
  "2020-04-16", round(0.39*1401), round(0.55*1401), round(0.04*1401), round(0.02*1401), NA,
  "2020-04-17", round(0.39*1409), round(0.54*1409), round(0.03*1409), round(0.03*1409), NA,
  "2020-04-18", round(0.39*1422), round(0.54*1422), round(0.03*1422), round(0.03*1422), NA,
  "2020-04-19", round(0.39*1431), round(0.54*1431), round(0.03*1431), round(0.03*1431), NA,
  "2020-04-20", round(0.39*1440), round(0.54*1440), round(0.02*1440), round(0.04*1440), NA,
  "2020-04-21", round(0.39*1445), round(0.55*1445), round(0.02*1445), round(0.04*1445), NA,
  "2020-04-22", round(0.39*1451), round(0.55*1451), round(0.02*1451), round(0.04*1451), NA,
  "2020-04-23", round(0.39*1451), round(0.56*1451), round(0.02*1451), round(0.04*1451), NA,
  "2020-04-24", round(0.39*1456), round(0.41*1456), round(0.02*1456), round(0.04*1456), round(0.14*1456),
  "2020-04-25", round(0.39*1461), round(0.41*1461), round(0.02*1461), round(0.03*1461), round(0.15*1461),
  "2020-04-26", round(0.39*1470), round(0.41*1470), round(0.02*1470), round(0.03*1470), round(0.15*1470),
  "2020-04-27", round(0.39*1469), round(0.33*1469), round(0.02*1469), round(0.03*1469), round(0.23*1469),
  "2020-04-28", round(0.39*1472), round(0.33*1472), round(0.02*1472), round(0.03*1472), round(0.23*1472),
  "2020-04-29", round(0.39*1474), round(0.33*1474), round(0.02*1474), round(0.03*1474), round(0.23*1474),
  "2020-04-30", round(0.39*1476), round(0.32*1476), round(0.01*1476), round(0.04*1476), round(0.24*1476),
  "2020-05-01", round(0.39*1479), round(0.32*1479), round(0.01*1479), round(0.04*1479), round(0.24*1479),
  "2020-05-02", round(0.38*1485), round(0.32*1485), round(0.01*1485), round(0.04*1485), round(0.24*1485),
  "2020-05-03", round(0.38*1487), round(0.32*1487), round(0.01*1487), round(0.04*1487), round(0.24*1487),
  "2020-05-04", round(0.38*1487), round(0.32*1487), round(0.01*1487), round(0.04*1487), round(0.24*1487),
  "2020-05-05", round(0.38*1486), round(0.32*1486), round(0.01*1486), round(0.04*1486), round(0.24*1486),
  "2020-05-06", round(0.38*1488), round(0.32*1488), round(0.01*1488), round(0.04*1488), round(0.24*1488),
  "2020-05-07", round(0.38*1488), round(0.32*1488), round(0.01*1488), round(0.04*1488), round(0.24*1488),
  "2020-05-08", round(0.38*1490), round(0.32*1490), round(0.01*1490), round(0.04*1490), round(0.24*1490),
  "2020-05-09", round(0.38*1492), round(0.32*1492), round(0.01*1492), round(0.04*1492), round(0.24*1492),
  "2020-05-10", round(0.38*1494), round(0.32*1494), round(0.01*1494), round(0.04*1494), round(0.24*1494),
  "2020-05-11", 572, 475, 1497-572-475-366-67, 67, 366,
  "2020-05-12", 572, 475, 1497-572-475-366-67, 67, 366,
  "2020-05-13", 572, 475, 1497-572-475-366-67, 67, 366,
  "2020-05-14", 572, 475, 1497-572-475-366-67, 67, 366,
  "2020-05-15", 572, 468, 1497-572-468-370-74, 74, 370,
  "2020-05-16", 572, 468, 1497-572-468-370-74, 74, 370,
  "2020-05-17", 572, 469, 1497-572-468-370-74, 74, 370,
  "2020-05-18", 572, 469, 1497-572-468-370-74, 74, 370,
  "2020-05-19", 576, 464, 1503-576-464-376-85, 85, 376,
  "2020-05-20", 576, 464, 1503-576-464-376-85, 85, 376,
  "2020-05-21", 576, 464, 1503-576-464-376-85, 85, 376,
  "2020-05-22", 576, 464, 1503-576-464-376-85, 85, 376,
  "2020-05-23", 575, 461, 1503-575-464-381-86, 86, 381,
  "2020-05-24", 575, 462, 1504-575-462-381-85, 85, 381,
  "2020-05-25", 575, 463, 1504-575-463-380-85, 85, 380,
  "2020-05-26", 575, 463, 1504-575-463-380-85, 85, 380,
  "2020-05-27", 575, 463, 1504-575-463-380-85, 85, 380,
  "2020-05-28", 575, 463, 1504-575-463-380-85, 85, 380,
  "2020-05-29", 575, 463, 1504-575-463-380-85, 85, 380,
  "2020-05-30", 575, 463, 1504-575-463-380-85, 85, 380,
  "2020-05-31", 575, 463, 1504-575-463-380-85, 85, 380,
  "2020-06-01", 575, 463, 1504-575-463-380-85, 85, 380,
  "2020-06-02", 575, 463, 1504-575-463-380-85, 85, 380,
  "2020-06-03", 575, 459, 0, 87, 383,
  "2020-06-04", 575, 459, 0, 87, 383,
  "2020-06-05", 575, 459, 0, 87, 383,
  "2020-06-06", 575, 459, 0, 87, 383,
  "2020-06-07", 575, 459, 0, 87, 383,
  "2020-06-08", 575, 459, 0, 87, 383,
  "2020-06-09", 575, 459, 0, 87, 383,
  "2020-06-10", 575, 459, 0, 87, 383,
  "2020-06-11", 575, 456, 0, 89, 384,
  "2020-06-12", 575, 456, 0, 89, 384,
  "2020-06-13", 575, 456, 0, 89, 384,
  "2020-06-14", 575, 456, 0, 89, 384,
  "2020-06-15", 575, 456, 0, 89, 384,
  "2020-06-16", 574, 458, 0, 89, 383,
  "2020-06-17", 575, 454, 0, 89, 388,
  "2020-06-18", 576, 454, 0, 89, 388,
  "2020-06-19", 578, 454, 0, 89, 388,
  "2020-06-20", 580, 454, 0, 89, 388,
  "2020-06-21", 582, 454, 0, 89, 388,
  "2020-06-22", 584, 454, 0, 89, 388,
  "2020-06-23", 586, 454, 0, 89, 388,
  "2020-06-24", 587, 454, 0, 89, 388,
  "2020-06-25", 588, 454, 0, 89, 388,
  "2020-06-26", 589, 454, 0, 89, 388,
  "2020-06-27", 591, 454, 0, 89, 388,
  "2020-06-28", 595, 454, 0, 89, 388,
  "2020-06-29", 597, 454, 0, 89, 388,
  "2020-06-30", 597, 454, 0, 89, 388,
  "2020-07-01", 597, 454, 0, 89, 388,
  "2020-07-02", 599, 454, 0, 89, 388,
  "2020-07-03", 599, 454, 0, 89, 388,
  "2020-07-04", 599, 454, 0, 89, 388,
  "2020-07-05", 602, 454, 0, 89, 388,
  "2020-07-06", 603, 454, 0, 89, 388,
  "2020-07-07", 605, 454, 0, 89, 388,
  "2020-07-08", 606, 454, 0, 89, 388,
  "2020-07-09", 609, 454, 0, 89, 388,
  "2020-07-10", 611, 454, 0, 89, 388,
  "2020-07-11", 612, 454, 0, 89, 388,
  "2020-07-12", 613, 454, 0, 89, 388,
  "2020-07-13", 613, 454, 0, 89, 388,
  "2020-07-14", 614, 454, 0, 89, 388,
  "2020-07-15", 616, 454, 0, 89, 388,
  "2020-07-16", 617, 454, 0, 89, 388,
  "2020-07-17", 618, 454, 0, 89, 388,
  "2020-07-18", 619, 454, 0, 89, 388,
  "2020-07-19", 622, 454, 0, 89, 388,
  "2020-07-20", 623, 454, 0, 89, 389,
  "2020-07-21", 624, 454, 0, 89, 389,
  "2020-07-22", 624, 454, 0, 89, 389,
  "2020-07-23", 624, 454, 0, 89, 389,
  "2020-07-24", 625, 454, 0, 89, 389,
  "2020-07-25", 625, 454, 0, 89, 389,
  "2020-07-26", 625, 454, 0, 89, 389,
  "2020-07-27", 625, 454, 0, 89, 389,
  "2020-07-28", 625, 454, 0, 89, 389,
  "2020-07-29", 627, 454, 0, 89, 389,
  "2020-07-30", 628, 454, 0, 89, 389,
  "2020-07-31", 628, 454, 0, 89, 389,
  "2020-08-01", 630, 454, 0, 89, 389,
  "2020-08-02", 633, 454, 0, 89, 389,
  "2020-08-03", 635, 454, 0, 89, 389,
  "2020-08-04", 635, 454, 0, 89, 389,
  "2020-08-05", 637, 454, 0, 89, 389,
  "2020-08-06", 638, 454, 0, 89, 388,
  "2020-08-07", 638, 454, 0, 89, 388,
  "2020-08-08", 638, 454, 0, 89, 388,
  "2020-08-09", 638, 454, 0, 89, 388,
  "2020-08-10", 638, 454, 0, 89, 388,
  "2020-08-11", 639, 454, 4, 89, 388,
  "2020-08-12", 640, 454, 8, 89, 388,
  "2020-08-13", 641, 454, 21, 89, 388,
  "2020-08-14", 641, 454, 34, 89, 388,
  "2020-08-15", 641, 460, 2, 89, 421,
  "2020-08-16", 642, 460, 4, 89, 431,
  "2020-08-17", 642, 455, 4, 89, 455,
  "2020-08-18", 642, 455, 5, 89, 467,
  "2020-08-19", 643, 455, 5, 89, 472,
  "2020-08-20", 643, 455, 2, 89, 480,
  "2020-08-21", 643, 455, 2, 89, 489,
  "2020-08-22", 645, 454, 1, 90, 481,
  "2020-08-23", 647, 454, 1, 90, 482,
  "2020-08-24", 648, 454, 1, 90, 491,
  "2020-08-25", 648, 454, 1, 90, 491,
  "2020-08-26", 650, 454, 1, 90, 494,
  "2020-08-27", 650, 454, 1, 90, 500,
  "2020-08-28", 657, 454, 1, 90, 505,
  "2020-08-29", 659, 454, 1, 90, 516,
  "2020-08-30", 659, 454, 1, 90, 518,
  "2020-08-31", 663, 454, 1, 90, 523,
  "2020-09-01", 672, 454, 1, 90, 528,
  "2020-09-02", 674, 454, 1, 90, 531,
  "2020-09-03", 675, 454, 1, 90, 532,
  "2020-09-04", 677, 454, 1, 90, 535,
  "2020-09-05", 678, 454, 1, 90, 537,
  "2020-09-06", 679, 454, 1, 90, 541,
  "2020-09-07", 681, 454, 1, 90, 543,
  "2020-09-08", 683, 454, 1, 90, 547,
  "2020-09-09", 683, 454, 1, 90, 553,
  "2020-09-10", 685, 454, 1, 90, 555,
  "2020-09-11", 685, 454, 1, 90, 556,
  "2020-09-12", 685, 454, 1, 90, 558,
  "2020-09-13", 686, 454, 1, 90, 559,
  "2020-09-14", 686, 454, 1, 90, 560,
  "2020-09-15", 689, 454, 1, 90, 560,
  "2020-09-16", 690, 454, 2, 89, 565,
  "2020-09-17", 697, 454, 2, 89, 565,
  "2020-09-18", 697, 454, 2, 89, 565,
  "2020-09-19", 698, 454, 2, 89, 566,
  "2020-09-20", 701, 454, 2, 89, 568,
  "2020-09-21", 701, 454, 2, 89, 568,
  "2020-09-22", 701, 454, 2, 89, 568,
  "2020-09-23", 701, 454, 2, 89, 566,
  "2020-09-24", 704, 460, 6, 89, 566,
  "2020-09-25", 705, 460, 6, 89, 567,
  "2020-09-26", 706, 460, 6, 89, 567,
  "2020-09-27", 710, 460, 6, 89, 567,
  "2020-09-28", 710, 460, 6, 89, 567,
  "2020-09-29", 712, 460, 6, 89, 567,
  "2020-09-30", 713, 460, 6, 89, 567,
  "2020-10-01", 725, 460, 6, 89, 567,
  "2020-10-02", 721, 461, 9, 89, 567,
  "2020-10-03", 722, 461, 9, 89, 567,
  "2020-10-04", 727, 461, 9, 89, 567,
  "2020-10-05", 728, 461, 9, 89, 567,
  "2020-10-06", 731, 461, 9, 89, 567,
  "2020-10-07", 734, 461, 9, 89, 567,
  "2020-10-08", 737, 461, 9, 89, 567,
  "2020-10-09", 739, 461, 9, 89, 567,
  "2020-10-10", 743, 461, 9, 89, 567,
  "2020-10-11", 744, 461, 9, 89, 567,
  "2020-10-12", 744, 461, 9, 89, 567,
  "2020-10-13", 747, 461, 9, 89, 567,
  "2020-10-14", 747, 461, 9, 89, 567,
  "2020-10-15", 747, 461, 9, 89, 567,
  "2020-10-16", 747, 461, 9, 89, 567,
  "2020-10-17", 747, 461, 9, 89, 567,
  "2020-10-18", 747, 461, 9, 89, 567,
  "2020-10-19", 747, 461, 9, 89, 567,
  "2020-10-20", 747, 461, 9, 89, 567,
  "2020-10-21", 770, 461, 9, 89, 570,
  "2020-10-22", 770, 461, 9, 89, 570,
  "2020-10-23", 778, 461, 9, 89, 571,
  "2020-10-24", 806, 467, 2, 90, 579,
  "2020-10-25", 806, 467, 2, 90, 579,
  "2020-10-26", 811, 467, 2, 90, 579,
  "2020-10-27", 812, 467, 2, 90, 579,
  "2020-10-28", 814, 467, 2, 90, 579,
  "2020-10-29", 820, 467, 2, 90, 579,
  "2020-10-30", 821, 467, 2, 90, 579,
  "2020-10-31", 821, 467, 2, 90, 579,
  "2020-11-01", 823, 467, 2, 90, 579,
  "2020-11-02", 831, 467, 1, 90, 570,
  "2020-11-03", 835, 467, 1, 90, 571,
  "2020-11-04", 838, 467, 1, 90, 571,
  "2020-11-05", 840, 467, 1, 90, 571,
  "2020-11-06", 841, 467, 1, 90, 571,
  "2020-11-07", 842, 467, 1, 90, 572,
  "2020-11-08", 847, 467, 1, 90, 573,
  "2020-11-09", 851, 467, 1, 90, 573,
  "2020-11-10", 852, 467, 1, 90, 573,
  "2020-11-11", 853, 467, 1, 90, 573,
  "2020-11-12", 854, 467, 1, 90, 573,
  "2020-11-13", 858, 467, 1, 90, 573,
  "2020-11-14", 858, 467, 1, 90, 573,
  "2020-11-15", 858, 467, 1, 90, 573,
  "2020-11-16", 862, 475, 4, 89, 571,
  "2020-11-17", 866, 475, 4, 89, 571,
  "2020-11-18", 869, 475, 4, 89, 571,
  "2020-11-19", 871, 475, 4, 89, 571,
  "2020-11-20", 874, 475, 4, 89, 571,
  "2020-11-21", 879, 477, 0, 89, 571,
  "2020-11-22", 888, 477, 0, 89, 571,
  "2020-11-23", 890, 477, 0, 89, 571,
  "2020-11-24", 892, 477, 0, 89, 571,
  "2020-11-25", 900, 477, 0, 89, 571,
  "2020-11-26", 901, 477, 0, 89, 571,
  "2020-11-27", 908, 477, 0, 89, 571,
  "2020-11-28", 912, 477, 0, 89, 571,
  "2020-11-29", 912, 477, 0, 89, 571,
  "2020-11-30", 916, 477, 0, 89, 571,
  "2020-12-01", 919, 477, 0, 89, 571,
  "2020-12-02", 920, 477, 0, 89, 571,
  "2020-12-03", 929, 477, 0, 89, 571,
  "2020-12-04", 929, 477, 0, 89, 571,
  "2020-12-05", 938, 477, 0, 89, 571,
  "2020-12-06", 938, 477, 0, 89, 571,
  "2020-12-07", 939, 477, 0, 89, 571,
  "2020-12-08", 947, 478, 0, 89, 571,
  "2020-12-09", 950, 478, 0, 89, 571,
  "2020-12-10", 950, 478, 0, 89, 571,
  "2020-12-11", 956, 478, 0, 89, 571,
  "2020-12-12", 956, 478, 0, 89, 571,
  "2020-12-13", 950, 478, 0, 89, 571,
  "2020-12-14", 950, 478, 0, 89, 571,
  "2020-12-15", 950, 478, 0, 89, 571,
  "2020-12-16", 954, 478, 0, 89, 571,
  "2020-12-17", 954, 478, 0, 89, 571,
  "2020-12-18", 964, 478, 0, 89, 571,
  ) %>% mutate(Date=as.Date(Date))


quarantinedCases <- tribble(
  ~Date, ~QuarantinedCases,
  "2020-06-23", 9,
  "2020-06-24", 10,
  "2020-06-25", 13,
  "2020-06-26", 14,
  "2020-06-27", 16,
  "2020-06-28", 20,
  "2020-06-29", 22,
  "2020-06-30", 22,
  "2020-07-01", 22,
  "2020-07-02", 18,
  "2020-07-03", 18,
  "2020-07-04", 18,
  "2020-07-05", 21,
  "2020-07-06", 22,
  "2020-07-07", 22,
  "2020-07-08", 23,
  "2020-07-09", 24,
  "2020-07-10", 23,
  "2020-07-11", 24,
  "2020-07-12", 25,
  "2020-07-13", 25,
  "2020-07-14", 25,
  "2020-07-15", 27,
  "2020-07-16", 27,
  "2020-07-17", 21,
  "2020-07-18", 22,
  "2020-07-19", 25,
  "2020-07-20", 26,
  "2020-07-21", 27,
  "2020-07-22", 27,
  "2020-07-23", 22,
  "2020-07-24", 21,
  "2020-07-25", 21,
  "2020-07-26", 21,
  "2020-07-27", 21,
  "2020-07-28", 21,
  "2020-07-29", 23,
  "2020-07-30", 24,
  "2020-07-31", 20,
  "2020-08-01", 22,
  "2020-08-02", 25,
  "2020-08-03", 27,
  "2020-08-04", 22,
  "2020-08-05", 24,
  "2020-08-06", 23,
  "2020-08-07", 23,
  "2020-08-08", 23,
  "2020-08-09", 23,
  "2020-08-10", 21,
  "2020-08-11", 22,
  "2020-08-12", 18,
  "2020-08-13", 19,
  "2020-08-14", 19,
  "2020-08-15", 19,
  "2020-08-16", 20,
  "2020-08-17", 20,
  "2020-08-18", 20,
  "2020-08-19", 21,
  "2020-08-20", 21,
  "2020-08-21", 16,
  "2020-08-22", 16,
  "2020-08-23", 18,
  "2020-08-24", 19,
  "2020-08-25", 19,
  "2020-08-26", 21,
  "2020-08-27", 22,
  "2020-08-28", 18,
  "2020-08-29", 20,
  "2020-08-30", 20,
  "2020-08-31", 24,
  "2020-09-01", 33,
  "2020-09-02", 35,
  "2020-09-03", 36,
  "2020-09-04", 35,
  "2020-09-05", 38,
  "2020-09-06", 39,
  "2020-09-07", 41,
  "2020-09-08", 43,
  "2020-09-09", 43,
  "2020-09-10", 39,
  "2020-09-11", 39,
  "2020-09-12", 38,
  "2020-09-13", 39,
  "2020-09-14", 39,
  "2020-09-15", 28,
  "2020-09-16", 29,
  "2020-09-17", 33,
  "2020-09-18", 33,
  "2020-09-19", 33,
  "2020-09-20", 35,
  "2020-09-21", 29,
  "2020-09-22", 29,
  "2020-09-23", 28,
  "2020-09-24", 31,
  "2020-09-25", 29,
  "2020-09-26", 30,
  "2020-09-27", 32,
  "2020-09-28", 28,
  "2020-09-29", 29,
  "2020-09-30", 30,
  "2020-10-01", 42,
  "2020-10-02", 32,
  "2020-10-03", 33,
  "2020-10-04", 34,
  "2020-10-05", 34,
  "2020-10-06", 37,
  "2020-10-07", 37,
  "2020-10-08", 39,
  "2020-10-09", 41,
  "2020-10-10", 44,
  "2020-10-11", 45,
  "2020-10-12", 45,
  "2020-10-13", 39,
  "2020-10-14", 40,
  "2020-10-15", 42,
  "2020-10-16", 46,
  "2020-10-17", 40,
  "2020-10-18", 41,
  "2020-10-19", 36,
  "2020-10-20", 32,
  "2020-10-21", 55,
  "2020-10-22", 57,
  "2020-10-23", 65,
  "2020-10-24", 70,
  "2020-10-25", 66,
  "2020-10-26", 70,
  "2020-10-27", 64,
  "2020-10-28", 62,
  "2020-10-29", 66,
  "2020-10-30", 64,
  "2020-10-31", 71,
  "2020-11-01", 73,
  "2020-11-02", 77,
  "2020-11-03", 73,
  "2020-11-04", 70,
  "2020-11-05", 65,
  "2020-11-06", 42,
  "2020-11-07", 40,
  "2020-11-08", 44,
  "2020-11-09", 47,
  "2020-11-10", 48,
  "2020-11-11", 48,
  "2020-11-12", 47,
  "2020-11-13", 48,
  "2020-11-14", 51,
  "2020-11-15", 53,
  "2020-11-16", 53,
  "2020-11-17", 57,
  "2020-11-18", 60,
  "2020-11-19", 33,
  "2020-11-20", 36,
  "2020-11-21", 35,
  "2020-11-22", 45,
  "2020-11-23", 48,
  "2020-11-24", 49,
  "2020-11-25", 55,
  "2020-11-26", 55,
  "2020-11-27", 63,
  "2020-11-28", 67,
  "2020-11-29", 66,
  "2020-11-30", 69,
  "2020-12-01", 69,
  "2020-12-02", 69,
  "2020-12-03", 67,
  "2020-12-04", 59,
  "2020-12-05", 58,
  "2020-12-06", 55,
  "2020-12-07", 55,
  "2020-12-08", 54,
  "2020-12-09", 55,
  "2020-12-10", 55,
  "2020-12-11", 55,
  "2020-12-12", 55,
  "2020-12-13", 56,
  "2020-12-14", 56,
  "2020-12-15", 56,
  "2020-12-16", 43,
  "2020-12-17", 43,
  "2020-12-18", 51,
  ) %>% mutate(Date=as.Date(Date))

borderCases <- tribble(
  ~Date, ~TotalBorderCases, ~BorderCases,
  "2020-09-04", 135, 2,
  "2020-09-05", 136, 1,
  "2020-09-06", 137, 1,
  "2020-09-07", 139, 2,
  "2020-09-08", 141, 2,
  "2020-09-09", 141, 0,
  "2020-09-10", 143, 2,
  "2020-09-11", 143, 0,
  "2020-09-12", 143, 0,
  "2020-09-13", 144, 1,
  "2020-09-14", 144, 0,
  "2020-09-15", 147, 3,
  "2020-09-16", 148, 1,
  "2020-09-17", 155, 7,
  "2020-09-18", 155, 0,
  "2020-09-19", 156, 1,
  "2020-09-20", 158, 2,
  "2020-09-21", 158, 0,
  "2020-09-22", 158, 0,
  "2020-09-23", 157, 0,
  "2020-09-24", 160, 3,
  "2020-09-25", 161, 1,
  "2020-09-26", 162, 1,
  "2020-09-27", 164, 2,
  "2020-09-28", 164, 0,
  "2020-09-29", 166, 2,
  "2020-09-30", 167, 1,
  "2020-10-01", 179, 12,
  "2020-10-02", 179, 0,
  "2020-10-03", 180, 1,
  "2020-10-04", 185, 5,
  "2020-10-05", 186, 1,
  "2020-10-06", 189, 3,
  "2020-10-07", 192, 3,
  "2020-10-08", 195, 3,
  "2020-10-09", 197, 2,
  "2020-10-10", 201, 4,
  "2020-10-11", 202, 1,
  "2020-10-12", 202, 0,
  "2020-10-13", 203, 1,
  "2020-10-14", 204, 2,
  "2020-10-15", 206, 2,
  "2020-10-16", 211, 4,
  "2020-10-17", 213, 3,
  "2020-10-18", 214, 1,
  "2020-10-19", 214, 0,
  "2020-10-20", 215, 1,
  "2020-10-21", 238, 23,
  "2020-10-22", 240, 2,
  "2020-10-23", 248, 8,
  "2020-10-24", 258, 10,
  "2020-10-25", 260, 2,
  "2020-10-26", 265, 5,
  "2020-10-27", 266, 1,
  "2020-10-28", 268, 2,
  "2020-10-29", 274, 6,
  "2020-10-30", 275, 1,
  "2020-10-31", 282, 7,
  "2020-11-01", 284, 2,
  "2020-11-02", 288, 4,
  "2020-11-03", 292, 4,
  "2020-11-04", 294, 2,
  "2020-11-05", 296, 2,
  "2020-11-06", 297, 1,
  "2020-11-07", 298, 1,
  "2020-11-08", 303, 5,
  "2020-11-09", 307, 4,
  "2020-11-10", 308, 1,
  "2020-11-11", 309, 1,
  "2020-11-12", 310, 1,
  "2020-11-13", 314, 4,
  "2020-11-14", 317, 3,
  "2020-11-15", 319, 2,
  "2020-11-16", 319, 1,
  "2020-11-17", 323, 4,
  "2020-11-18", 326, 3,
  "2020-11-19", 328, 2,
  "2020-11-20", 331, 3,
  "2020-11-21", 336, 5,
  "2020-11-22", 345, 9,
  "2020-11-23", 347, 2,
  "2020-11-24", 349, 2,
  "2020-11-25", 356, 8,
  "2020-11-26", 357, 0,
  "2020-11-27", 364, 7,
  "2020-11-28", 367, 3,
  "2020-11-29", 369, 2,
  "2020-11-30", 373, 4,
  "2020-12-01", 376, 3,
  "2020-12-02", 377, 1,
  "2020-12-03", 386, 9,
  "2020-12-04", 386, 0,
  "2020-12-05", 395, 9,
  "2020-12-06", 395, 0,
  "2020-12-07", 396, 1,
  "2020-12-08", 402, 6,
  "2020-12-09", 405, 3,
  "2020-12-10", 405, 0,
  "2020-12-11", 411, 6,
  "2020-12-12", 411, 0,
  "2020-12-13", 413, 4,
  "2020-12-14", 413, 0,
  "2020-12-15", 413, 0,
  "2020-12-16", 417, 4,
  "2020-12-17", 417, 0,
  "2020-12-18", 427, 10,
  ) %>% mutate(Date=as.Date(Date))




todayCsv <- paste0("data/daily/dhb-cases-", format(Sys.Date(), "%Y-%m-%d"), ".csv")
todayXlsx <- paste0("data/daily/dhb-cases-", format(Sys.Date(), "%Y-%m-%d"), ".xlsx")


views <- function(d) {
list(
      age=d %>% group_by(age) %>% summarise(total=n(), confirmed=length(age[status=="Confirmed"]), probable=length(age[status=="Probable"])) %>% ungroup() %>% rename(variable=age),
      sex=d %>% group_by(sex) %>% summarise(total=n(), confirmed=length(sex[status=="Confirmed"]), probable=length(sex[status=="Probable"])) %>% ungroup() %>% rename(variable=sex),
      origin=d %>% group_by(origin) %>% summarise(total=n(), confirmed=length(origin[status=="Confirmed"]), probable=length(origin[status=="Probable"])) %>% ungroup() %>% rename(variable=origin),
      dhb=d %>% group_by(dhb) %>% arrange(dhb) %>% summarise(total=n(), confirmed=length(dhb[status=="Confirmed"]), probable=length(dhb[status=="Probable"])) %>% ungroup() %>% rename(variable=dhb),
      reported=d %>% group_by(reported) %>% arrange(reported) %>% summarise(total=n(), confirmed=length(reported[status=="Confirmed"]), probable=length(reported[status=="Probable"])) %>% ungroup() %>% rename(variable=reported),
      announced=d %>% group_by(announced) %>% arrange(announced) %>% summarise(total=n(), confirmed=length(announced[status=="Confirmed"]), probable=length(announced[status=="Probable"])) %>% ungroup() %>% rename(variable=announced),
      total=d %>% nrow(),
      confirmed=d %>% filter(status=="Confirmed") %>% nrow(),
      probable=d %>% filter(status=="Probable") %>% nrow()
      )
}


tidyCases <- function(df, status) {
  df %>%
    rename(`Date of report`=`Date notified of potential case`) %>%
    mutate(
    Origin=case_when(
      `Overseas travel`=="Yes" ~ 'Overseas',
      `Overseas travel`=="No" ~ 'In New Zealand',
      TRUE ~ 'Unknown'
      ),
    Status=status,
    # `Date of report`=case_when(`Date of report`=="43939" ~ "18/04/2020", TRUE ~ `Date of report`),
    # `Date of report`=parse_date(`Date of report`, format="%d/%m/%Y")
    ) %>%
  rename(Reported=`Date of report`,
      Age = `Age group`)
}

manualDHBactive <- function(nz, dhbScrape) {
  nz$dhb <- nz$dhb %>% mutate(
    active=dhbScrape %>% pull(Active) %>% as.numeric(),
    recovered=dhbScrape %>% pull(Recovered) %>% as.numeric())
    # active=dhbScrape %>% filter(DHB != "Managed Isolation & Quarantine") %>% pull(Active) %>% as.numeric(),
    # recovered=dhbScrape %>% filter(DHB != "Managed Isolation & Quarantine") %>% pull(Recovered) %>% as.numeric())
  return(nz)
}


plan <- drake_plan(
    # https://services2.arcgis.com/9V7Qc4NIcvZBm0io/ArcGIS/rest/services
    # esrRaw = read_json("https://services2.arcgis.com/9V7Qc4NIcvZBm0io/ArcGIS/rest/services/Daily_ESR_Update_Cases/FeatureServer/0/query?f=json&where=1%3D1&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*&orderByFields=FID%20ASC&resultOffset=0&resultRecordCount=5000&cacheHint=true"),
    # esrData = esrRaw$features %>% map_dfr(~(first(.) %>% as_tibble())) %>%
    #   mutate(ReportDate=as.POSIXct(ReportDate/1000, origin = "1970-01-01", tz="UTC") %>%
    #     lubridate::force_tz("Pacific/Auckland"),
    #   DHB=case_when(
    #     DHB=="Waitemat" ~ "Waitemata",
    #     DHB=="Tairwhiti" ~ "Tairawhiti",
    #     TRUE ~ DHB),
    #   Sex=case_when(Sex=="NA"~NA_character_, TRUE~Sex)),

    casefile = file_in("data/moh/covid-cases-4nov20.xlsx"),
    confirmedCases = readxl::read_excel(casefile, skip=2) %>% tidyCases("Confirmed"),


    probableCases = readxl::read_excel(casefile, skip=2, sheet=2) %>% tidyCases("Probable"),


    write_cases_tidy_csv = bind_rows(confirmedCases, probableCases) %>%
      arrange(Reported) %>%
      write_csv(file_out("data/cases.csv")),
    write_cases_tidy_xlsx = bind_rows(confirmedCases, probableCases) %>%
      arrange(Reported) %>%
      writexl::write_xlsx(file_out("data/cases.xlsx")),


    allCasesMoH = bind_rows(confirmedCases, probableCases) %>%
      rename_all(str_to_lower) %>%
      mutate(#reported=lubridate::force_tz(reported, "Pacific/Auckland"),
        age=case_when(
          age %in% c("<1","1 to 4","5 to 9") ~ "0 to 9",
          age %in% c("10 to 14", "15 to 19") ~ "10 to 19",
          TRUE ~ age)),



    dhbScrape = read_html("https://www.health.govt.nz/our-work/diseases-and-conditions/covid-19-novel-coronavirus/covid-19-current-situation/covid-19-current-cases#2020-11-04") %>%
      html_table() %>% nth(3) %>% filter(DHB != "Total") %>% arrange(DHB),


    manual = dateRange %>%
      left_join(confirmedDates %>% mutate(`Total Confirmed`=cumsum(Confirmed)), by="Date") %>%
    fill(`Total Confirmed`) %>%
    mutate(Confirmed=coalesce(Confirmed, 0)) %>%
    left_join(probableDates, by="Date") %>%
    mutate(
      `Total Probable`=na_if(cumsum(coalesce(Probable,0)),0),
      Cases=Confirmed+coalesce(Probable,0),
      `Total Cases`=`Total Confirmed`+coalesce(`Total Probable`,0),
      ) %>%
    left_join(recoveredDates, by="Date") %>%
    mutate(`Total Recovered`=na_if(cumsum(coalesce(Recovered,0)),0)) %>%
    left_join(hospitalisationDates, by="Date") %>%
    left_join(deathsDates, by="Date") %>%
    left_join(transmissionDates, by="Date") %>%
    left_join(quarantinedCases, by="Date") %>%
    left_join(borderCases, by="Date") %>%
    rename_all(snakecase::to_lower_camel_case) %>%
    mutate(date=as.POSIXct(date),tag="Manual"),


    allCases = allCasesMoH %>%  # bind_rows(esrMohDiff %>% select(-n.x,-n.y) %>% mutate(origin="Unknown")) %>%
      arrange(reported) %>%
      mutate(announced = (manual %>% filter(!(totalConfirmed == 1125
           | totalConfirmed == 1140
            )) %>%
        mutate(cases=ifelse(totalConfirmed == 1120, 8, cases)) %>%
        arrange(date) %>% select(date, cases) %>% pmap_df(
          function(date,cases) {tibble(reported=rep(date,cases))}) %>% pull(reported))[1:1971],
        ),


    nzTotals = allCases %>% views %>% manualDHBactive(dhbScrape),
    ageTotals = allCases %>% split(.$age) %>% map(views) %>% unname(),
    sexTotals = allCases %>% split(.$sex) %>% map(views) %>% unname(),
    originTotals = allCases %>% split(.$origin) %>% map(views) %>% unname(),
    dhbTotals = allCases %>% split(.$dhb) %>% map(views) %>% unname(),
    reportedTotals = allCases %>% split(.$reported) %>% map(views) %>% unname(),
    announcedTotals = allCases %>% split(.$announced) %>% map(views) %>% unname(),



    write_everything = list(
      cases=allCases,
      nz=nzTotals,
      age=ageTotals,
      sex=sexTotals,
      origin=originTotals,
      dhb=dhbTotals,
      reported=reportedTotals,
      announced=announcedTotals,
      manual=manual
      ) %>%
      as_d3_data() %>%
      write_json(file_out("data/cases.json"), auto_unbox=T, POSIXt="ISO8601", Date="ISO8601", UTC=T),



  write_timeseries = manual %>%
    write_csv(file_out("data/days.csv")),

  write_timeseries_xlsx = manual %>%
      writexl::write_xlsx(file_out("data/days.xlsx"))


#     dataurl = file_in("https://www.health.govt.nz/our-work/diseases-and-conditions/covid-19-novel-coronavirus/covid-19-current-cases"),

#     dhbNumbersTable = (read_html(dataurl) %>%
#       html_nodes("table") %>%
#       html_table())[[2]],

#     # Tomorrow is nothing changes I will work out how to start building a series from this
#     dhbNumbers = dhbNumbersTable %>%
#        pivot_longer(-DHB, names_to = 'Case Status', values_to = 'Count') %>%
#        mutate(Date=Sys.Date()),

#      writeDHBToday = dhbNumbers %>%
#        write_csv(file_out(here(todayCsv))),

#      writeDHBTodayXLSX = dhbNumbers %>%
#        writexl::write_xlsx(file_out(here(todayXlsx))),

#      allFiles = fs::dir_ls(here("data/daily")),
#     csvFiles = allFiles[str_detect(allFiles, "csv")],

#     allDHBNumbers = csvFiles %>% map_df(read_csv),

#      writeDHB = allDHBNumbers %>%
#        write_csv(file_out(here("data/dhb-cases.csv"))),

#      writeDHBXLSX = allDHBNumbers %>%
#        writexl::write_xlsx(file_out(here("data/dhb-cases.xlsx"))),


#   # %>%
#   #   left_join(communityTransmissionDates, by="Date") %>%
#   #   mutate(`Total Community Transmission`=na_if(cumsum(coalesce(`Community Transmission`,0)),0)) %>%
#   #   left_join(testDates, by="Date"),

#    casedataurl = file_in("https://www.health.govt.nz/our-work/diseases-and-conditions/covid-19-novel-coronavirus/covid-19-current-cases/covid-19-current-cases-details"),

#    casesTable = read_html(casedataurl) %>%
#       html_node("table") %>%
#       html_table() %>%
#       mutate(Date=rev(confirmedDates[confirmedDates < "2020-03-27"])),  # waiting until cases are updated



)

drake_config(plan)
